<?xml version="1.0" encoding="UTF-8"?>
<ipfix xmlns="urn:ietf:params:xml:ns:yang:ietf-ipfix-psamp">

	<!--## Every collecting process will be started as new process -->
	<collectingProcess>
		<!--## Arbitrary collecting process name  -->
		<name>UDP collector</name>
		<!--## Type of the collector. Supported types are defined in internalcfg.xml -->
		<udpCollector>
			<!--## Arbitrary udp collector name -->
			<name>Listening port 4739</name>
			<!--## Local listening port -->
			<localPort>4739</localPort>
			<!--## Template lifetime in seconds -->
			<templateLifeTime>1800</templateLifeTime>
			<!--## Options template lifetime in seconds -->
			<optionsTemplateLifeTime>1800</optionsTemplateLifeTime>
			<!--## Template lifetime in packets (for how many packets is template valid) -->
			<!-- <templateLifePacket>5</templateLifePacket>  -->
			<!--## Options template lifetime in packets -->
			<!-- <optionsTemplateLifePacket>100</optionsTemplateLifePacket>  -->
			<!--## Local address to listen on. If empty, bind to all interfaces -->
			<localIPAddress></localIPAddress>
		</udpCollector>
		<!--## Name of the exporting process. Must match exporting process name -->
		<exportingProcess>Store flows</exportingProcess>
	</collectingProcess>

	<!--## Exporting process configuration -->
	<exportingProcess>
		<!--## Name of the exporting process, must match <exportingProcess> element in <collectingProcess> -->
		<name>Store flows</name>

		<!--## Specification of storage plugin -->
		<destination>
			<!--## Arbitrary name -->
			<name>Storage</name>

			<!--## Configuration to storage plugin -->
			<fileWriter>
				<!--## Plugin (internal plugin identification) -->
				<fileFormat>lnfstore</fileFormat>

				<!--## Enable flow profiling -->
				<profiles>no</profiles>

				<!--## Filename = storagePath + prefix + suffixMask -->
				<!--## Storage directory for data collected by the plugin -->
				<storagePath>/var/lib/ipfixcol/lnfstore/</storagePath>
				<!--## Specifies name prefix for output files. -->
				<prefix>nfcapd.</prefix>
				<!--## File identification -->
				<suffixMask>%Y%m%d%H%M%S</suffixMask>

				<!--## Internal file identification -->
				<identificatorField>liberouter</identificatorField>
				<!--## LZO compression for data -->
				<compress>yes</compress>

				<dumpInterval>
					<!--## Specifies the time interval in seconds to rotate files -->
					<timeWindow>300</timeWindow>
					<!--## Align file rotation with next N minute interval -->
					<align>yes</align>
				</dumpInterval>
			</fileWriter>
		</destination>
		<!--## Only one plugin for all ODIDs -->
		<singleManager>yes</singleManager>
	</exportingProcess>

	<!-- List of active Intermediate Plugins -->
	<!-- <intermediatePlugins>
	</intermediatePlugins> -->
</ipfix>
